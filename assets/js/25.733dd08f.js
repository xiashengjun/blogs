(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{423:function(e,n,a){"use strict";a.r(n);var r=a(27),t=Object(r.a)({},(function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h2",{attrs:{id:"基本api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本api"}},[e._v("#")]),e._v(" 基本api")]),e._v(" "),a("div",{staticClass:"language-markup extra-class"},[a("pre",{pre:!0,attrs:{class:"language-markup"}},[a("code",[e._v("wx.request({\n  url: 'test.php', //仅为示例，并非真实的接口地址\n  data: {\n    x: '',\n    y: ''\n  },\n  header: {\n    'content-type': 'application/json' // 默认值\n  },\n  success (res) {\n    console.log(res.data)\n  }\n})\n")])])]),a("h2",{attrs:{id:"promise封装网络请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#promise封装网络请求"}},[e._v("#")]),e._v(" Promise封装网络请求")]),e._v(" "),a("div",{staticClass:"language-markup extra-class"},[a("pre",{pre:!0,attrs:{class:"language-markup"}},[a("code",[e._v('const req = {\n  _get(url, data) {\n    return new Promise((resolve, reject) => {\n      let params = data;\n      wx.request({\n        url: url,\n        data: params,\n        method: "get",\n        success(res) {\n          resolve(res);\n        },\n        fail(err) {\n          reject(err);\n        }\n      })\n    })\n  },\n  _post(url, data) {\n    wx.showLoading({\n      title: \'正在加载\',\n    })\n    return new Promise((resolve, reject) => {\n      let params = data;\n      wx.request({\n        url: url,\n        data: params,\n        method: "post",\n        success(res) {\n          resolve(res);\n        },\n        fail(err) {\n          reject(err);\n        },\n        complete() {\n          wx.hideLoading();\n        }\n')])])])])}),[],!1,null,null,null);n.default=t.exports}}]);